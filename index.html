<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    
    <title>毕业设计中期答辩</title>
    
    <meta name="description" content="5 kinds of NoSQL" />
    <meta name="author" content="Henrik Ingo" />
    <link rel="stylesheet" href="impress.js/extras/highlight/styles/github.css">

    <!-- This file contains common styles for example presentations. -->
    <link href="impress.js/css/impress-common.css" rel="stylesheet" />   
    <!--
        This file contains styles specific for this example presentation. 
    -->
    <link href="css/classic-slides.css" rel="stylesheet" />

    <script src="js/plotly-2.11.1.min.js"></script>
    <script src="js/d3.min.js"></script>
    
</head>

<body class="impress-not-supported">
<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>


<div id="impress"
    data-transition-duration="1000"

    data-width="1920"
    data-height="1080"
    data-max-scale="3"
    data-min-scale="0"
    data-perspective="1000">

    <div id="title" class="step slide title intro" data-x="-2200" data-y="-3000" data-rotate-x="90">
        <h2>毕业设计中期答辩</h2>
        <br />        <br />        <br />        <br />
        <hr />
        <span style="font-size: 40px;">基于深度神经网络的高鲁棒性<b>网络流量分类</b>算法设计与实现</span>
        <h4>王硕</h4>
        <h5>2022年4月16日</h5>

        <div class="notes">
        Any element with the class="notes" will not be displayed. This can
        be used for speaker notes. In fact, the impressConsole plugin will
        show it in the speaker console!
        </div>

    </div>

    <div id="choice" class="step slide intro" data-rel-y="3000" data-scale="3">
        <p style="font-weight: bold; font-size: 300%; position: absolute; top: 0px; left: 0px; transform: rotate(-10deg);"
        class="fade-in"
        >Traffic</p>
        <p style="font-weight: bold; font-size: 240%; position: absolute; top: 50px; right: 0px; transform: rotate(10deg);"
        class="fade-in"
        >Classification</p>
        <img src="src/images/每日Web应用程序攻击数.png" class="fade-in"
        style="height: 500px; position: absolute; top: 400px; left: 0px">
        <img src="src/images/移动互联网接入流量.png" class="fade-in"
        style="height: 500px; position: absolute; top: 400px; right: 0px;">
        
    </div>

    <div id="nosql_overview" class="step slide" data-rel-x="1200" data-rel-y="-200" data-scale="1">
        <p>&nbsp;</p>
    </div>

    <div id="background" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="-1100" data-rel-y="-200" data-rel-z="-500" data-scale="0.5">
        <h1>背景介绍</h1>
        <div class="substep" style="position: absolute; left: 100px; top: 200px;">
            <span style="font-size: 50px;"><b>网络流量分类</b><em>即将流量数据分成特定的类别</em></span>
            <ul style="font-size: 35px;">
                <li>包级、流级</li>
                <li>明文、密文</li>
                <li>应用、网站、协议、行为等</li>
            </ul>
        </div>
        <div class="substep" style="position: absolute; top: 500px; left: 100px;">
            <span style="font-size: 50px;"><b>意义</b></span>
            <ul style="font-size: 35px;">
                <li>网络测量与管理</li>
                <li>网络服务质量</li>
                <li>异常检测</li>
                <li>...</li>
            </ul>
        </div>
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <p><em>技术分类</em></p>
        <ul style="font-size: 40px; position: absolute; left: -20px; width: 100%;">
            <li>基于端口号等的模式匹配方法</li>
            <span style="font-size: 30px; position: absolute; left: 200px;">> 方法简单，端口号随机技术使此方法不能准确分类，不能对类似应用等进行分类</span>
            <li style="top: 150px; position: absolute;">基于数据特征的机器学习方法</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 220px;">> 特征挖掘耗时繁多，数据包的特征易被攻击者恶意操作，且容易受到网络环境波动的影响</span>
            <li style="top: 300px; position: absolute;">基于字节序列的深度学习方法</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 370px;">> 数据噪声、对抗攻击使得模型鲁棒性降低、全球网络流量的激增对模型的处理时间有了更高要求</span>
        </ul>
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <p><em>针对数据包的攻击方式(神经网络)</em></p>
        <span style="font-size: 30px; position: absolute; left: 180px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;针对神经网络的攻击一般通过插入噪声改变分类模型的结果</span>
        <span style="font-size: 30px; position: absolute; left: 180px; top: 490px;">由于包头字段特征的修改容易改变数据包的类型，且难以训练，</span>
        <span style="font-size: 30px; position: absolute; left: 180px; top: 550px;">所以一般采用在payload字段插入一些字节的方式。这些字节经</span>
        <span style="font-size: 30px; position: absolute; left: 180px; top: 610px;">过训练可以大幅降低神经网络的性能。</span>
        <img src="src/images/数据包攻击.png"
            style="position: absolute; left: 1000px; top: 300px; height: 600px; object-fit: contain;">
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <p><em>毕业设计目标</em></p>
        <span style="font-size: 35px; position: absolute; left: 200px; top: 400px;">基于深度神经网络，设计一种高鲁棒性的深度神经网络模型算法，来对现在复杂环境下的网络流量进行分类。</span>
        <ul style="font-size: 35px; position: absolute; top: 500px;">
            <li>多类型数据集收集与处理</li>
            <li>分类算法的设计与实现</li>
            <li>利用实验验证模型的鲁棒性及效率</li>
            <li>模型的解释及可视化</li>
            <li>...</li>
        </ul>
    </div>


    <div id="datapreprocessing" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="0" data-rel-y="-200" data-rel-z="-500" data-scale="0.5">
        <h1>数据处理</h1>
        <div class="substep" style="position: absolute; left: 500px;">
            <div id="hex" style="position: absolute; top: 200px; left: -250px;">
                <pre>
                00000000  <span style="color: red;">ca fe ba be 00 00 00 33  00 15 0a 00 04 00</span> 11 09  |.......3........|  <span style="color: red;">以太网头</span>
                00000010  00 03 00 12 07 00 13 07  <span style="color: red;">00 14</span> <span style="color: blue;">01 00 05 66 69 65</span>  |.............fie|  <span style="color: red;">包头校验和</span>、<span style="color: blue;">源和目的IP</span>
                00000020  <span style="color: blue;">6c 64</span> <span style="color: blueviolet;">01 00 01 49</span> <span style="color: deeppink;">01 00  06 3c</span> <span style="color: deeppink;">69 6e 69 74</span> 3e 01  |ld...I...&lt;init&gt;.|  <span style="color: blueviolet;">源和目的端口号</span>、<span style="color: deeppink;">Seq、ACK字段</span>
                00000030  00 03 <span style="color: red;">28 29</span> 56 01 00 04  43 6f 64 65 01 00 0f 4c  |..()V...Code...L|  <span style="color: red">载荷校验和</span>
                00000040  69 6e 65 4e 75 6d 62 65  72 54 61 62 6c 65 01 00  |ineNumberTable..|  <span>以下为payload(用户数据)</span>
                00000050  08 67 65 74 46 69 65 6c  64 01 00 03 28 29 49 01  |.getField...()I.|
                00000060  00 08 73 65 74 46 69 65  6c 64 01 00 04 28 49 29  |..setField...(I)|
                00000070  56 01 00 0a 53 6f 75 72  63 65 46 69 6c 65 01 00  |V...SourceFile..|
                00000080  0d 4e 65 77 43 6c 61 73  73 2e 6a 61 76 61 0c 00  |.NewClass.java..|
                00000090  07 00 08 0c 00 05 00 06  01 00 08 4e 65 77 43 6c  |...........NewCl|
                000000a0  61 73 73 01 00 10 6a 61  76 61 2f 6c 61 6e 67 2f  |ass...java/lang/|
                000000b0  4f 62 6a 65 63 74 00 21  00 03 00 04 00 00 00 01  |Object.!........|
                000000c0  00 02 00 05 00 06 00 00  00 03 00 01 00 07 00 08  |................|
                000000d0  00 01 00 09 00 00 00 1d  00 01 00 01 00 00 00 05  |................|
                000000e0  2a b7 00 01 b1 00 00 00  01 00 0a 00 00 00 06 00  |*...............|
                000000f0  01 00 00 00 01 00 01 00  0b 00 0c 00 01 00 09 00  |................|
                00000100  00 00 1d 00 01 00 01 00  00 00 05 2a b4 00 02 ac  |...........*....|
                00000110  00 00 00 01 00 0a 00 00  00 06 00 01 00 00 00 05  |................|
                00000120  00 01 00 0d 00 0e 00 01  00 09 00 00 00 22 00 02  |............."..|
                00000130  00 02 00 00 00 06 2a 1b  b5 00 02 b1 00 00 00 01  |......*.........|
                00000140  00 0a 00 00 00 0a 00 02  00 00 00 09 00 05 00 0a  |................|
                00000150  00 01 00 0f 00 00 00 02  00 10                    |..........|
                </pre>
            </div>
        </div>
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <div id="hex" style="position: absolute; top: 200px; left: 285px;">
        <pre>
            00000000  <span style="color: red;">00 00 00 00 00 00 00 00  00 00 00 00 00 00</span> 11 09  |.......3........|  <span style="color: red;">以太网头</span>
            00000010  00 03 00 12 07 00 13 07  <span style="color: red;">00 00</span> <span style="color: blue;">00 00 00 00 00 00</span>  |.............fie|  <span style="color: red;">包头校验和</span>、<span style="color: blue;">源和目的IP</span>
            00000020  <span style="color: blue;">00 00</span> <span style="color: blueviolet;">00 00 00 00</span> <span style="color: deeppink;">00 00  00 00</span> <span style="color: deeppink;">00 00 00 00</span> 3e 01  |ld...I...&lt;init&gt;.|  <span style="color: blueviolet;">源和目的端口号</span>、<span style="color: deeppink;">Seq、ACK字段</span>
            00000030  00 03 <span style="color: red;">00 00</span> 56 01 00 04  43 6f 64 65 01 00 0f 4c  |..()V...Code...L|  <span style="color: red">载荷校验和</span>
            00000040  69 6e 65 4e 75 6d 62 65  72 54 61 62 6c 65 01 00  |ineNumberTable..|  <span>以下为payload(用户数据)</span>
            00000050  08 67 65 74 46 69 65 6c  64 01 00 03 28 29 49 01  |.getField...()I.|
            00000060  00 08 73 65 74 46 69 65  6c 64 01 00 04 28 49 29  |..setField...(I)|
            00000070  56 01 00 0a 53 6f 75 72  63 65 46 69 6c 65 01 00  |V...SourceFile..|
            00000080  0d 4e 65 77 43 6c 61 73  73 2e 6a 61 76 61 0c 00  |.NewClass.java..|
            00000090  07 00 08 0c 00 05 00 06  01 00 08 4e 65 77 43 6c  |...........NewCl|
            000000a0  61 73 73 01 00 10 6a 61  76 61 2f 6c 61 6e 67 2f  |ass...java/lang/|
            000000b0  4f 62 6a 65 63 74 00 21  00 03 00 04 00 00 00 01  |Object.!........|
            000000c0  00 02 00 05 00 06 00 00  00 03 00 01 00 07 00 08  |................|
            000000d0  00 01 00 09 00 00 00 1d  00 01 00 01 00 00 00 05  |................|
            000000e0  2a b7 00 01 b1 00 00 00  01 00 0a 00 00 00 06 00  |*...............|
            000000f0  01 00 00 00 01 00 01 00  0b 00 0c 00 01 00 09 00  |................|
            00000100  00 00 1d 00 01 00 01 00  00 00 05 2a b4 00 02 ac  |...........*....|
            00000110  00 00 00 01 00 0a 00 00  00 06 00 01 00 00 00 05  |................|  <span style="color: blueviolet;">置零的原因</span>
            00000120  00 01 00 0d 00 0e 00 01  00 09 00 00 00 22 00 02  |............."..|    <span style="color: blueviolet;">1. 去除对分类无用的字段</span>
            00000130  00 02 00 00 00 06 2a 1b  b5 00 02 b1 00 00 00 01  |......*.........|    <span style="color: blueviolet;">2. 防止因特殊字段(IP)导致的过拟合</span>
            00000140  00 0a 00 00 00 0a 00 02  00 00 00 09 00 05 00 0a  |................|
            00000150  00 01 00 0f 00 00 00 02  00 10                    |..........|
            </pre></div>
    </div>

    <div id="model" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="1000" data-rel-y="-200" data-rel-z="-500" data-scale="0.5">
        <h1>模型搭建</h1>
    </div>

    <div id="data-distribution-pre" class="step slide intro" data-x="1000" data-y="5000" data-rel-z="-3500" data-rotate-y="90" data-scale="0.5">
    </div>

    <div id="data-distribution" class="step slide intro" data-rel-to="data-distribution-pre" data-rel-x="0" data-rel-y="0" data-scale="0.5" data-rotate-y="90">
        <div id="myDiv" style="position: absolute; top: 0px;"></div>
        <div id="myDiv2" style="position: absolute; top: 0px; left: 900px;"></div>
        <p style="position: absolute; top: 700px; left: 0px; width: 800px; font-size: 30px;">
            左图代表每一类别的字节分布规律。将每一类别的所有数据包对应位置的字节相加取平均，
            得到图示的字节向量，可以看到不同类别的字节向量有所不同。从聚类的思想得到启发，可
            以用神经网络学习数据包字节的相似程度以达到分类的效果。
        </p>
        <p style="position: absolute; top: 700px; left: 900px; width: 800px; font-size: 30px;">
            右图对第一类的标签进行相似度判断。对每个位置的字节赋予一个权重，经过神经网络的学习
            调整此权重，可以将第一类准确分类。如果对每个标签都进行相似度判断处理，那么可以应用
            到多分类的问题。
        </p>
    </div>

    <div class="step slide subslide zfix" data-rel-to="model" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <img src="src/images/论文模型示意图.png"
            style="position: absolute;left: -20px; top: 200px; width: 1600px; object-fit: contain;">
        <span style="position: absolute; bottom: 10px; left: 550px; font-size: 50px;">分类器模型示意图</span>
    </div>

    <div class="step slide subslide zfix" data-rel-to="model" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <img src="src/images/对抗学习模型.png"
            style="position: absolute;left: -20px; top: 200px; width: 1600px; object-fit: contain;">
        <span style="position: absolute; bottom: 10px; left: 550px; font-size: 50px;">对抗学习模型示意图</span>
    </div>

    <div id="experiments" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="-1100" data-rel-y="800" data-rel-z="-500" data-scale="0.5">
        <h1>实验结果</h1>
        <div class="substep" style="position: absolute; left: 50px; top: 150px;">
            <p><em>所用数据集</em></p>
        <ul style="font-size: 40px; position: absolute; left: -20px; width: 1600px">
            <li>TrafficX-Application-29</li>
            <span style="font-size: 30px; position: absolute; left: 200px;">> 实验室于2019年收集的数据集，包含29类流行的应用流量，包含加密和非加密流量，vpn、tor等流量，
                如：Vimeo, Spotify, Voipbuster, Sinauc, Cloudmusic, Weibo, Baidu, Tudou等
            </span>
            <li style="top: 170px; position: absolute;">TrafficX-Website-20</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 240px;">> 实验室于2019年收集的数据集，包含20类流行网站的流量：JD, Netease Cloud 
                Music, TED, Amazon, Baidu, Bing, Douban, Facebook, 
                Google, IMDb, Instagram, iQIYI, QQ Mail, Reddit, Taobao, 
                Tieba, Twitter, Sina Weibo, Youku, Youtube</span>
            <li style="top: 340px; position: absolute;">USTC-TFC-Application-20</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 410px;">> 网络2016年的公开数据集，包含10类正常流量和10类异常流量
            </span>
            <li style="top: 490px; position: absolute;">VPN-nonVPN-Service-8</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 560px;">> 网络2016年的公开数据集，可分为16类流量，8类VPN和8类非VPN。
                服务包括：Audio, Chat, File, Mail, Streaming, Voip
            </span>
        </ul>
        </div>
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <p style="font-size: 40px; position: absolute; left: 50px; top: 200px;"><em>模型的准确率、召回率、F1分数(以29类数据集举例)</em></p>
        <pre style="font-size: 16px; text-shadow: none; position: absolute; top: 280px; left: 100px;">
            /	Label       P.        R.        F1.
            0	vimeo       1.0 	0.9988	0.9994
            1	spotify     0.9868	0.9993	0.9930
            2	voipbuster  0.9993	0.9972	0.9982
            3	sinauc      0.9998	0.9999	0.9999
            4	cloudmusic  0.9999	0.9999	0.9999
            5	weibe       0.9997	0.9997	0.9997
            6	baidu       0.9990	0.9987	0.9989
            7	tudou       0.9998	1.0        0.9999
            8	amazon      1.0      1.0        1.0
            9	thunder     0.9996	0.9999	0.9998
            10	gmail       0.9936	0.9971	0.9954
            11	pplive      0.9999	0.9999	0.9999
            12	qq          0.9990	0.9970	0.9980
            13	taobao      1.0 	0.9999	0.9999
            14	yahoomail   1.0      1.0        1.0
            15	itunes      1.0 	0.9996	0.9998
            16	twitter     1.0      1.0        1.0
            17	jd          1.0      1.0        1.0
            18	sohu        1.0      1.0        1.0
            19	youtube     0.9975	1.0        0.9987
            20	youku       1.0 	0.9995     0.9998
            21	netflix     0.9998	1.0        0.9999
            22	aimchat     0.9978	0.9974	0.9976
            23	kugou       0.9999	0.9999	0.9999
            24	skype       0.9975	0.9986	0.9981
            25	facebook    1.0      1.0        1.0
            26	google      1.0      1.0        1.0
            27	mssql       1.0      1.0        1.0
            28	ms-exchange 1.0      1.0        1.0
            <span style="font-weight: bold;">/	average     0.9994  0.9990  0.9992</span>
        </pre>
        <pre style="font-size: 20px; text-shadow: none; position: absolute; top: 480px; left: 600px;">
            /   Label           P.        R.        F1.
            0   SAM             0.9056    0.9277    0.9129
            1   Tree-RNN        0.9872    0.9869    0.9867
            2   Securitas-C4.5  0.9407    0.9429    0.9417			
            3   Securitas-SVM   0.8981    0.9224    0.9036
            4   Securitas-Bayes 0.8675    0.8630    0.8577
            5   DP-SAE          0.8008    0.7308    0.7465
            6   DP-CNN          0.9668    0.9634    0.9649
            7   EBSNN-GRU       0.9952    0.9957    0.9954
            8   EBSNN-LSTM      0.9987    0.9989    0.9988
            9   <span style="font-weight: bold;">OURS            0.9994    0.9990    0.9992</span>
        </pre>
        
    
    </div>

    <div class="step slide subslide zfix" data-rel-x="0" data-rel-y="0" data-rel-z="0" data-scale="0.5">
        <img src="src/images/对抗结果.png"
            style="position: absolute;left: -20px; top: 200px; width: 800px; left: 400px; object-fit: contain;">
        <span style="position: absolute; bottom: 10px; left: 200px; font-size: 20px; top: 800px; width: 1200px;">通过图示看到，我们的模型添加了对抗机制后，即使插入较多的噪声字节，仍能准确地进行分类，且准确率保持在97%以上，
            其他模型的依赖于输入的数据，不能够对噪声数据进行准确分类，以此说明我们的模型有更高的准确率和更强的鲁棒性。</span>
    </div>

    <div id="conclusions" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="0" data-rel-y="800" data-rel-z="-500" data-scale="0.5">
        <h1>中期总结</h1>
        <div class="substep" style="position: absolute; left: 50px; top: 150px;">
            <p><em>目前完成的工作</em></p>
        <ul style="font-size: 40px; position: absolute; left: -20px; width: 1600px">
            <li>数据集的收集与处理</li>
            <span style="font-size: 30px; position: absolute; left: 200px;">> 一共四个数据集，数据集内容丰富 (包括加密/非加密，VPN/TOR等流量)，流量类别丰富 (流行应用、恶意应用、WEB流量、各类服务流量)
            </span>
            <li style="top: 170px; position: absolute;">模型算法的设计与实现</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 240px;">> 通过深入分析流量数据特征，模型利用字节与标签的相似度进行学习和分类，Attention机制的加入使得模型拥有更好的可解释性；
            通过加入对抗学习机制，使模型拥有处理噪声和应对攻击的能力，有更强的鲁棒性。</span>
            <li style="top: 340px; position: absolute;">模型的验证与对比方法的复现</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 410px;">> 目前针对一个数据集完成了本模型与其他模型的对比实验，验证了模型的优越性。
            </span>
        </ul>
        </div>
    </div>

    <div id="future" class="step slide zfix" data-rel-to="nosql_overview" data-rel-x="1100" data-rel-y="800" data-rel-z="-500" data-scale="0.5">
        <h1>后续计划</h1>
        <div class="substep" style="position: absolute; left: 50px; top: 150px;">
            <p><em>待完成的工作</em></p>
        <ul style="font-size: 40px; position: absolute; left: -20px; width: 1600px">
            <li>实验部分完成其他数据集的验证</li>
            <span style="font-size: 30px; position: absolute; left: 200px;">> 四个数据集均已经验证了判别器的有效性，还差对抗网络与对比实验。
            </span>
            <li style="top: 170px; position: absolute;">模型算法的优化与解释</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 240px;">> 输出中间层的权重并解释为什么有些字节权重大，有些字节权重小。分别可视化Label Attention与Byte Attention的部分及必要性。
            </span>
            <li style="top: 340px; position: absolute;">论文写作</li>
            <span style="font-size: 30px; position: absolute; left: 200px; top: 410px;">> 完成毕业设计论文，逐步完成英文论文写作。
            </span>
        </ul>
        </div>
    </div>

    <div id="thanks" class="step slide title" data-rel-to="future" data-rel-x="2200" data-rel-y="0">
        <h1>感谢聆听</h1>
    </div>


    <!-- This last, empty "slide" is set to be very large using the data-scale attribute, 
         so that it covers all the other slides you just saw. 
         It's a common way of zooming out at the end, to show the whole presentation.
         In CSS, we set pointer-events:none to make this slide non-clickable. 
         It makes a difference at least for SVG content, such as the mermaid diagram. -->
    <div id="overview" class="step" data-x="4500" data-y="1500" data-scale="10" style="pointer-events: none;">
    </div>
</div>

<!--
    Add navigation-ui controls: back, forward and a select list.
    Add a progress indicator bar (current step / all steps)
    Add the help popup plugin
-->
<div id="impress-toolbar"></div>
<div id="impress-help"></div>

<!-- Extra modules
     Load highlight.js, mermaid.js, markdown.js and MathJax.js from extras.
     If you're curious about details, these are initialized in src/plugins/extras/extras.js -->
<script type="text/javascript" src="impress.js/extras/highlight/highlight.pack.js"></script>
<!--
    To make all described above really work, you need to include impress.js in the page.
    You also need to call a `impress().init()` function to initialize impress.js presentation.
    And you should do it in the end of your document. 
-->
<script type="text/javascript" src="impress.js/js/impress.js"></script>
<script>impress().init();</script>
<script>
    d3.csv('https://raw.githubusercontent.com/ws0407/testPlotly/master/data/all_label.csv', function(err, rows){
        function unpack(rows, key) {
            return rows.map(function(row) { return row[key]; });
        }
    
        var x = [];
        var y = [];
        var z_data = [];
        for(i = 0; i < 1500; i++){
            z_data.push(unpack(rows, i));
        }
        var z = z_data[0].map(function (col, i) {
            return z_data.map(function (row) {
                return row[i];
            })
        });
        var label_num = z.length;
        var byte_num = z[0].length;
        var x_sub = [];
        var y_sub = [];
        var z_sub = [];
    
        var data = []
        CLASSES = ['vimeo', 'spotify', 'voipbuster', 'sinauc', 'cloudmusic', 'weibo', 'baidu', 'tudou', 'amazon', 'thunder',
               'gmail', 'pplive', 'qq', 'taobao', 'yahoomail', 'itunes', 'twitter', 'jd', 'sohu', 'youtube', 'youku',
               'netflix', 'aimchat', 'kugou', 'skype', 'facebook', 'google', 'mssql', 'ms-exchange'];
    
        for(var i = 0; i < label_num; i++){
            for(var j = 0; j < byte_num; j++){
                x_sub.push([i, i+0.5]);
                y_sub.push([j, j]);
                z_sub.push([z[i][j], z[i][j]])
            }
            x_sub = [];
            y_sub = [];
            z_sub = [];
            data.push({
                "x": x_sub,
                "y": y_sub,
                "z": z_sub,
                "name": CLASSES[i], 
                "showscale": i==0?true:false, 
                "type": "surface", 
            });
        }
    
        var layout = {
            title: 'Byte Distribution of Labels',
            showlegend: false,
            autosize: true,
            width: 800,
            height: 600,
            // paper_bgcolor: '[0, rgb(190, 190, 190)]',
            // plot_bgcolor: '[0, rgb(190, 190, 190)]',
            // bgcolor: '[0, rgb(190, 190, 190)]',
            // color: '[0, rgb(190, 190, 190)]',
            scene: {
                xaxis: {title: 'Label #'},
                yaxis: {title: 'ByteIndex #'},
                zaxis: {title: 'ByteValue'}
            }
        };
        Plotly.newPlot('myDiv', data, layout);
    });
</script>
<script>
    d3.csv('https://raw.githubusercontent.com/ws0407/testPlotly/master/data/all_label_cluster.csv', function(err, rows){
    function unpack(rows, key) {
        return rows.map(function(row)
        { return row[key]; });}
    
    var trace1 = {
        x:unpack(rows, 'x1'), y: unpack(rows, 'y1'), z: unpack(rows, 'z1'),
        mode: 'markers',
        marker: {
            size: 12,
            line: {
            color: 'rgba(217, 217, 217, 0.14)',
            width: 0.5},
            opacity: 0.8},
        type: 'scatter3d'
    };
    
    var trace2 = {
        x:unpack(rows, 'x2'), y: unpack(rows, 'y2'), z: unpack(rows, 'z2'),
        mode: 'markers',
        marker: {
            color: 'rgb(127, 127, 127)',
            size: 12,
            symbol: 'circle',
            line: {
            color: 'rgb(204, 204, 204)',
            width: 1},
            opacity: 0.8},
        type: 'scatter3d'};
    
    var data = [trace1, trace2];
    var layout = {
        title: 'Bytes Clustering Result',
        autosize: true,
        width: 800,
        height: 600,
        margin: {
            l: 65,
            r: 50,
            b: 65,
            t: 90,
        },
        scene: {
            xaxis: {title: 'Payload Cluster of Label #'},
            yaxis: {title: 'Header Cluster of Label #'},
            zaxis: {title: 'Clustering Value'}
        }
    };
    Plotly.newPlot('myDiv2', data, layout);
    });
</script>

</body>
</html>
